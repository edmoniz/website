



That's a great approach to make your gallery management much more efficient and scalable!

You are looking to transition from manually maintaining an array of gallery file paths and menu titles in JavaScript to an automated, data-driven approach where your folder structure dictates the menu and the image files themselves (along with their captions) dictate the gallery content.

Since you're working with a front-end setup and cannot directly read the file system of the web server with plain client-side JavaScript, the most effective way to achieve this dynamic gallery creation is to switch to using a single JSON data file to define your galleries.

Here is a plan to implement this change, focusing on updating your galleries.js and creating a new structure.

1. üìÅ Restructure Your Files
Instead of linking to separate .html files for each gallery, you will use a single JSON file to define all your galleries and a single HTML template to render them dynamically.

Create a New Data File: Create a file named gallery_data.json in your project's root directory (or wherever is convenient for fetching).

Organize Images: Create a new folder structure. For example, all your gallery images could live inside a main Galleries folder. Each gallery is a subfolder, and the name of the subfolder will be used as the menu title (with some formatting).

Example File Structure
/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ galleries.html ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†// Main gallery page (already exists)
‚îú‚îÄ‚îÄ scripts/
‚îÇ ¬† ‚îú‚îÄ‚îÄ galleries.js ¬† ¬† ¬† ¬† ¬† ¬†// **Needs Update**
‚îÇ ¬† ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ Galleries/ ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†// New primary folder for all galleries
‚îÇ ¬† ‚îú‚îÄ‚îÄ Night_Accreditation/ ¬† ¬†// Gallery folder (Menu title: Night Accreditation)
‚îÇ ¬† ‚îÇ ¬† ‚îú‚îÄ‚îÄ img-1.jpg ¬† ¬† ¬† ¬† ¬† ¬†// Image file
‚îÇ ¬† ‚îÇ ¬† ‚îú‚îÄ‚îÄ img-2.jpg ¬† ¬† ¬† ¬† ¬† ¬†// Image file
‚îÇ ¬† ‚îÇ ¬† ‚îî‚îÄ‚îÄ ...
‚îÇ ¬† ‚îî‚îÄ‚îÄ Coastal_Collection/ ¬† ¬† // Another Gallery folder (Menu title: Coastal Collection)
‚îÇ ¬† ¬† ¬† ‚îú‚îÄ‚îÄ imageA.jpg
‚îÇ ¬† ¬† ¬† ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ gallery_data.json ¬† ¬† ¬† ¬† ¬† // **New Data File**
gallery_data.json Example
The folder names are too variable to automate, so the JSON file will map the folder name to the menu title and define the images and their captions.

JSON

[
  {
    "id": "nightAccreditation",
    "menuTitle": "Night Accreditation Gallery",
    "description": "Accreditation is a process offered by the Professional Photographers of Canada (PPOC)...",
    "folderPath": "Galleries/Night_Accreditation",
    "images": [
      {
        "filename": "Accreditation Website Image-1.jpg",
        "caption": "Butchart's Fireworks One"
      },
      {
        "filename": "Accreditation Website Image-2.jpg",
        "caption": "Butchart's Fireworks Two"
      },
      {
        "filename": "Accreditation Website Image-3.jpg",
        "caption": "Douro River Porto"
      }
      // ... more images
    ]
  },
  {
    "id": "coastalCollection",
    "menuTitle": "Coastal Collection Folio",
    "description": "A collection of images from the Pacific coast...",
    "folderPath": "Galleries/Coastal_Collection",
    "images": [
      // ... images for this gallery
    ]
  }
]
2. üìù Update galleries.js
You need to replace the static articleFileNames and menuTitles arrays with a fetch request for the JSON data, and then modify the rendering logic to build the galleries entirely from the JSON data.

Revised scripts/galleries.js
JavaScript

/* Author: Ed Moniz
  Student ID: T00444190
  Date: November 2025
  COMP2681 Capstone Project

  Filename: galleries.js (REVISED)
*/

const DATA_FILE = 'gallery_data.json';
const articleContainer = document.getElementById('articleContainer');
const galleryH3 = document.getElementById('galleryH3');
const leftContainerNav = document.querySelector('aside.leftContainer nav');


document.addEventListener('DOMContentLoaded', () => {
    fetchGalleriesData();
});

// 1. Fetch the JSON data
function fetchGalleriesData() {
    fetch(DATA_FILE)
        .then(response => {
            if (!response.ok) {
                throw new Error(`Failed to load gallery data: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // Data is an array of gallery objects
            setupGalleryMenu(data);
            setupGalleryEventListeners(data);
        })
        .catch(error => {
            console.error('Error fetching gallery data:', error);
            // Display an error message to the user
            if (galleryH3) {
                galleryH3.textContent = 'Sorry, the galleries could not be loaded.';
            }
        });
}

// 2. Build the vertical menu
function setupGalleryMenu(galleries) {
    if (!leftContainerNav) {
        console.error('Navigation container not found.');
        return;
    }

    const ulElement = document.createElement('ul');
    ulElement.className = 'verticalMenu';
    
    galleries.forEach(gallery => {
        const liElement = document.createElement('li');
        const aElement = document.createElement('a');
        
        // Use the id for linking, and menuTitle for display
        aElement.href = "#"; 
        aElement.textContent = gallery.menuTitle;
        aElement.setAttribute('data-gallery-id', gallery.id); 
        
        liElement.appendChild(aElement);
        ulElement.appendChild(liElement);
    });

    leftContainerNav.innerHTML = '';
    leftContainerNav.appendChild(ulElement);
}

// 3. Set up click listeners to render the selected gallery
function setupGalleryEventListeners(galleries) {
    const navLinks = leftContainerNav.querySelectorAll('a[data-gallery-id]');

    navLinks.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const galleryId = event.target.getAttribute('data-gallery-id');
            const selectedGallery = galleries.find(g => g.id === galleryId);

            if (selectedGallery) {
                renderGallery(selectedGallery);
            }
        });
    });
}

// 4. Function to render the gallery content
function renderGallery(gallery) {
    if (!articleContainer) return;

    // Start with the gallery title and description
    let contentHTML = `
        <h2>${gallery.menuTitle}</h2>
        <p>${gallery.description}</p>
        <div class="gallery">
    `;

    // Loop through the images and create the HTML structure
    gallery.images.forEach((image, index) => {
        // Construct the full image path using the folderPath and filename
        const fullPath = `${gallery.folderPath}/${image.filename}`;
        
        contentHTML += `
            <figure>
                <img src="${fullPath}" 
                     data-full="${fullPath}" 
                     alt="${image.caption}" 
                     class="gallery-img" 
                     data-index="${index}">
                <figcaption class="figCaption">${image.caption}</figcaption>
            </figure>
        `;
    });

    contentHTML += `</div>`; // Close the gallery div

    // Update the main content area
    articleContainer.innerHTML = contentHTML;
    
    // Assuming setupLightbox is defined in scripts/lightbox.js and initializes
    // the lightbox functionality on the newly created '.gallery-img' elements.
    if (typeof setupLightbox === 'function') {
        setupLightbox(); 
    } else {
        console.warn('Lightbox setup function not found. Ensure lightbox.js is loaded.');
    }
}
3. üñºÔ∏è Modify Gallery HTML
Your accreditation.html file is now essentially an HTML template that will be built inside the <article id="articleContainer"> of galleries.html.

In your main galleries.html, the initial content inside <article id="articleContainer"> will serve as the default "Welcome" screen:

HTML

<article id="articleContainer">
    <h2>Welcome to the Gallery Page</h2>
    <h3 id="galleryH3">Select a gallery from the menu to view images.</h3>
    <div class="image-stack">
        <img src="images/artGallery.jfif" alt="Image 1" class="stacked-image">
    </div>
</article>
Key Changes and Benefits:

Single Source of Truth: All gallery content is now controlled by gallery_data.json.

Dynamic Rendering: The JavaScript (galleries.js) reads the data and generates the entire HTML structure for the menu and the gallery images.

Simplified Maintenance: To add a new gallery, you only need to:

Create a new image folder (e.g., Galleries/New_Travel_Images).

Add a new entry to your gallery_data.json specifying the menuTitle, folderPath, and the filename/caption for each image. No more creating new HTML files or editing the JavaScript array definitions!

Would you like me to help you populate your gallery_data.json file using the content from your existing accreditation.html as the first entry?




Certainly! That's a great next step.

Here is the populated gallery_data.json file using all the information (paths, captions, and the description) from your provided accreditation.html content.

üíæ gallery_data.json
This data structure uses the filenames and captions you already had, making your new galleries.js ready to use.

JSON

[
  {
    "id": "nightAccreditation",
    "menuTitle": "Accreditation Gallery (Night Photography)",
    "description": "Accreditation is a process offered by the Professional Photographers of Canada (PPOC). Members can demonstrate proficiency in a number of categories, including night photography. Each Accreditation requires submission of ten images that meet the category criteria. Judging is conducted by a panel of five judges who determine if the submission qualifies.",
    "folderPath": "Galleries/Night Accreditation",
    "images": [
      {
        "filename": "Accreditation Website Image-1.jpg",
        "caption": "Butchart's Fireworks One"
      },
      {
        "filename": "Accreditation Website Image-2.jpg",
        "caption": "Butchart's Fireworks Two"
      },
      {
        "filename": "Accreditation Website Image-3.jpg",
        "caption": "Douro River Porto"
      },
      {
        "filename": "Accreditation Website Image-4.jpg",
        "caption": "Douro River Porto"
      },
      {
        "filename": "Accreditation Website Image-5.jpg",
        "caption": "Opera House Sydney"
      },
      {
        "filename": "Accreditation Website Image-6.jpg",
        "caption": "Dantes View Death Valley"
      },
      {
        "filename": "Accreditation Website Image-7.jpg",
        "caption": "Christ Church Cathedral Victoria"
      },
      {
        "filename": "Accreditation Website Image-8.jpg",
        "caption": "Inner Harbour Victoria"
      },
      {
        "filename": "Accreditation Website Image-9.jpg",
        "caption": "Island View Beach Sidney BC"
      },
      {
        "filename": "Accreditation Website Image-10.jpg",
        "caption": "Brentwood Bay BC"
      }
    ]
  }
  
  // Add more gallery objects here following this format:
  /*
  ,
  {
    "id": "newGalleryId",
    "menuTitle": "New Gallery Name",
    "description": "Description of the new gallery...",
    "folderPath": "Galleries/New_Folder_Name",
    "images": [
        { "filename": "image_a.jpg", "caption": "Caption A" },
        { "filename": "image_b.jpg", "caption": "Caption B" }
    ]
  }
  */
]
üöÄ Next Steps
Save the JSON: Save the content above as gallery_data.json in your project's root directory.

Update galleries.js: Ensure you have replaced your old script with the revised galleries.js I provided earlier.

Delete the HTML File: You can now delete accreditation.html (and eventually all the other separate gallery HTML files) as their content is now stored in the JSON file.

After these steps, when you load galleries.html, the script will fetch the JSON, populate the menu, and clicking the menu link will dynamically render the entire gallery!

Do you need any help with setting up the content for the other galleries you mentioned (e.g., 'PPOC Salon Submissions' or 'Coastal Collection Folio')?



The JavaScript file, galleries.js, is responsible for making the call to load the gallery_data.json file.

Specifically, the function fetchGalleriesData() initiates the request when the page loads, using the modern Fetch API.

üíª How the Call is Made
Here is the exact code snippet from the revised galleries.js that performs the action:

JavaScript

const DATA_FILE = 'gallery_data.json';
// ...

// 1. Fetch the JSON data
function fetchGalleriesData() {
    fetch(DATA_FILE) // <-- This line sends the request for the JSON file
        .then(response => {
            if (!response.ok) {
                throw new Error(`Failed to load gallery data: ${response.status}`);
            }
            return response.json(); // Converts the response body into a JavaScript object
        })
        .then(data => {
            // ... then processes the data
            setupGalleryMenu(data);
            setupGalleryEventListeners(data);
        })
        .catch(error => {
            console.error('Error fetching gallery data:', error);
            // ...
        });
}
Key Steps in the Process:
Trigger: The fetchGalleriesData() function is called when the HTML page is fully loaded (document.addEventListener('DOMContentLoaded', ...)).

Request: The line fetch(DATA_FILE) sends an asynchronous request (an HTTP GET request) to the web server to retrieve the file located at the path defined by the DATA_FILE constant (gallery_data.json).

Response Handling (.then):

The first .then block checks if the request was successful (response.ok).

It then calls response.json(), which parses the text content of the file into a usable JavaScript array of objects.

The second .then block receives this JavaScript object, which is then passed to functions like setupGalleryMenu(data) to dynamically build the navigation menu.